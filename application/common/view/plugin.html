<!--底部插件-->
<style>
#icon_class_vali.has-error .control-label
{color: #333 !important;}
#icon_class_vali.has-error .form-control{border-color: #c5bebe; !important;}
#icon_class_vali.has-error .input-group-addon {
    color: #333 !important;
    background-color: #eee;
    border-color:#c5bebe !important;
}
#icon_class_vali input:focus{border-color:#66afe9 !important;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}
</style>
<script>
    // 去掉所有input的autocomplete, 显示指定的除外 
    $('input:not([autocomplete]),textarea:not([autocomplete]),select:not([autocomplete])').attr('autocomplete', 'off'); 

    // 时间插件 layui中窗口过小导致日期控件显示不出来（一闪而过）问题解决
    if($('.laydate').length>0){
        layui.use('laydate', function() {
            var laydate = layui.laydate;

            lay('.date').each(function() {
                laydate.render({
                    elem : this,
					trigger: 'click' //采用click弹出
                });
            });

            lay('.time').each(function() {
                laydate.render({
                    elem : this,
                    type: 'time',
					trigger: 'click' //采用click弹出
                });
            });

            lay('.time_range').each(function() {
                laydate.render({
                    elem : this,
                    type: 'time',
                    range: true,
					trigger: 'click' //采用click弹出
                });
            });

            lay('.date_range').each(function() {
                laydate.render({
                    elem : this,
                    range: true,
					trigger: 'click' //采用click弹出
                });
            });

            // 2个输入框的时间选择器
           /* if(($('#t_start').length>0) && ($('#t_end').length>0)){
                laydate.render({
                    elem: '#t_start',
                });
                laydate.render({
                    elem: '#t_end',
                });
            }*/
        });
    }

    // all_icon 选择器--- 一个页面只有一个
    if($('.icp-auto').length>0){
		$('#icon_class_vali').removeClass('has-error');
	
        // 图标可以点击选中 icp-auto 操作图标元素
		var icon;
        $('.icp-auto').iconpicker({
            title: '请选择一个图标',
            tab:true, //定义tab 选项 true(fa)  glyphicon fa  layui-icon
            fullClassFormatter: function(val){
                if(val.match(/^fa-/)){
					icon='fa '+val;   
                }else if(val.match(/^glyphicon-/)){
					icon='glyphicon '+val;
                }else {
					icon='layui-icon '+val;
                }
				return icon;
            },
            component: '.input-group-addon', // 图标存放容器
            placement: 'bottomRight',  // 图标容器位置
        });
		
		var val=$('.icp-auto').val(),i_class;
		if(val.match(/^fa-/)){
			i_class='fa '+val;   
		}else if(val.match(/^glyphicon-/)){
			i_class='glyphicon '+val;
		}else {
			i_class='layui-icon '+val;
		}
		$('.input-group-addon').find('i').attr('class',i_class);
		
    }

    // lay 字体图标
    if($('.lay-icon').length>0){
        layui.config({
            base: '/static/layui/lay/' // 相对于当前文件的目录
        }).extend({
            iconPicker: '/modules/iconPicker'
        }).use(['iconPicker'], function () {
            var iconPicker = layui.iconPicker,
                form = layui.form;

            $('.lay-icon').each(function (i,e) {
                iconPicker.render({
                    // 选择器，推荐使用input
                    elem: $(this),
                    // 标题
                    title:true,
                    // 数据类型：fontClass/unicode，推荐使用fontClass
                    type: 'fontClass',
                    // 是否开启搜索：true/false
                    search: true,
                    // 是否开启分页
                    page: true,
                    // 每页显示数量，默认12
                    limit: 30,
                    // 点击回调
                    click: function (data) {
                        console.log(data);
                    }
                });
            });
        });
    }
</script>
